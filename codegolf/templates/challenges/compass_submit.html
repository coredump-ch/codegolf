{% extends "challenge.html" %}

{% block challenge_name %}Intel x86 Assembly Compass{% endblock %}

{% block challenge_summary %}Write an Intel x86 assembly program that &ndash;
when compiled with the provided Makefile &ndash; returns an ASCII compass.{% endblock %}

{% macro render_field(field) %}
    <div class="form-group {% if field.errors %}has-error{% endif %}">
        {{ field.label(class="col-md-2 control-label") }}
        <div class="col-md-8">
            {{ field(class="form-control") }}
            <p class="help-block">
                {{ field.description|safe }}
                {% if field.errors %}
                <br><em>
                    {{ field.errors|join(" | ") }}
                </em>
                {% endif %}
            </p>
        </div>
    </div>
{% endmacro %}

{% block main %}
    <h2>Submit Your Solution</h2>

    {% if not name %}
        <form class="form-horizontal" role="form" method="POST" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            {{ render_field(form.name) }}
            {{ render_field(form.source) }}
            <div class="form-group">
                <div class="col-md-offset-3 col-md-6">
                    <input type="submit" class="btn btn-large btn-primary" value="Submit">
                </div>
            </div>
        </form>
    {% else %}
        <p>Congrats {{ name }}, your {{ size }} bytes of source code run successfully.</p>
    {% endif %}
{% endblock %}

{% block sidebar %}
    <h2>High Scores</h2>

    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>#</th>
                <th>Name</th>
                <th>Bytes</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>Danilo &amp; Chrigi</th>
                <td>452</td>
            </tr>
        </tbody>
    </table>
{% endblock %}
